<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>sl-gallery test</title>

    <script src="../../../@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../../../wct-browser-legacy/browser.js"></script>

    <script type="module" src="../sl-gallery.js"></script>
  </head>
  <body>

    <test-fixture id="GalleryTestFixture">
      <template>
        <sl-gallery>
          <sl-gallery-image
              src="https://unsplash.it/800/500/?image=257"
              small="https://unsplash.it/400/250/?image=257"
              title="Example Title 01"
          ></sl-gallery-image>
          <sl-gallery-image
              src="https://unsplash.it/800/500/?image=250"
              small="https://unsplash.it/400/250/?image=250"
              title="Another Title 02"
          ></sl-gallery-image>
          <sl-gallery-image
              src="https://unsplash.it/800/500/?image=399"
              small="https://unsplash.it/400/250/?image=399"
              title="Photo Title 03"
              caption="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus tempora ea eius placeat. Sed culpa numquam voluptatibus possimus, eaque vel!"
          ></sl-gallery-image>
          <sl-gallery-image
              src="https://unsplash.it/800/500/?image=146"
              small="https://unsplash.it/400/250/?image=146"
              title="Photo Title 04"
              caption="Necessitatibus tempora ea eius placeat. Sed culpa numquam voluptatibus possimus, eaque vel!"
          ></sl-gallery-image>
        </sl-gallery>
      </template>
    </test-fixture>

    <script type="module">
import '../sl-gallery.js';
suite('sl-gallery', () => {

  /**
   * Reference list of assertions
   * assert.equal(element.innerHTML, 'Expected innerHTML content');
   * assert.isTrue(expression);
   * assert.isFalse(expression);
   * assert.isArray(array);
   * assert.isObject(object);
   */

  test('slideshow hidden on load', () => {
    const gallery = fixture('GalleryTestFixture');
    assert.isTrue(gallery.slideshow.hidden, 'slideshow is hidden');
    assert.isFalse(gallery.slideshow.opened, 'slideshow is not opened');
  });

  test('images is an array with an object', (done) => {
    const gallery = fixture('GalleryTestFixture');
    flush(() => {
      assert.isArray(gallery._images, 'gallery.images is an array');
      assert.isTrue(gallery._images[0] instanceof HTMLElement, 'gallery.images contains an HTMLElement');
      done();
    });
  });

});
</script>

  </body>
</html>
